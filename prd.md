# Mesh Gradient Card Generator - Product Requirements Document

## 1. 제품 개요

### 1.1 제품명
Mesh Gradient Card Generator (메시 그라디언트 카드 생성기)

### 1.2 제품 목적
커피 원두의 특성을 시각적으로 표현하는 메시 그라디언트 카드를 생성하여, 커피 브랜딩, 마케팅, 소셜미디어 콘텐츠 제작에 활용할 수 있는 도구 제공

### 1.3 타겟 사용자
- 커피 로스터리 및 카페 운영자
- 커피 관련 콘텐츠 크리에이터
- 커피 애호가 및 블로거
- 디자인 에이전시 및 프리랜서

## 2. 핵심 기능 요구사항

### 2.1 입력 데이터
**커피 원두 정보 (필수)**
- 산지 (Origin): 국가, 지역, 농장명
- 원두명 (Bean Name): 품종, 상품명
- 배전도 (Roast Level): 라이트, 미디엄, 다크 등
- 플레이버 노트 (Flavor Notes): 최대 5개 (과일, 초콜릿, 견과류 등)
- 강도 지표 (Intensity Scale 1-10):
  - 산도 (Acidity)
  - 당도 (Sweetness) 
  - 바디감 (Body)

### 2.2 AI 컬러 추천 시스템
**LLM API 요구사항**
- 응답 시간: 3초 이내
- 비용: 요청당 $0.01 이하
- 추천 컬러: 3-5개 (HEX 코드 + 컬러명)
- 컬러 선택 기준: 커피 특성과 감정적 연관성

**추천 로직 예시**
```
입력: 에티오피아 예가체프, 라이트 로스트, 레몬, 베르가못, 플로럴
출력: #FFD700 (골든 옐로우), #FF6B35 (코랄 오렌지), #8B4513 (사들 브라운)
```

### 2.3 메시 그라디언트 생성 엔진
**기술 스펙**
- 출력 형식: SVG (벡터 기반, 확장 가능)
- 해상도: 최소 1920x1080px 지원
- 파일 크기: 100KB 이하

**사용자 조정 파라미터**
- 노이즈 강도 (Noise Intensity): 0-100%
- 그라디언트 방향 (Gradient Direction): 0-360도
- 블렌드 모드 (Blend Mode): 오버레이, 멀티플라이, 스크린
- 컬러 분포 (Color Distribution): 균등/집중/확산
- 테두리 스타일 (Border Style): 둥근 모서리, 각진 모서리, 테두리 없음

### 2.4 저장 및 공유 시스템
**Supabase 통합**
- 1차 개발: 익명 저장 (세션 기반)
- 2차 개발: 사용자 계정 시스템
- 저장 데이터: SVG 파일, 메타데이터, 생성 파라미터
- 공개/비공개 설정

**다운로드 기능**
- 지원 형식: PNG (고해상도)
- 파일명 자동 생성: "{원두명}_{날짜}_{시간}.png"

## 3. 기술 아키텍처

### 3.1 프론트엔드
**기술 스택**
- React 18 + TypeScript
- Tailwind CSS (UI 컴포넌트)
- Framer Motion (애니메이션)
- React Hook Form (폼 관리)

**주요 라이브러리**
- D3.js (SVG 생성 및 조작)
- Canvas API (이미지 처리)
- FileSaver.js (파일 다운로드)

### 3.2 백엔드
**기술 스택**
- Node.js + Express
- TypeScript
- Supabase (데이터베이스, 인증, 스토리지)

**API 구조**
```
POST /api/generate-colors - LLM 컬러 추천
POST /api/generate-svg - 메시 그라디언트 생성
POST /api/save-image - 이미지 저장
GET /api/user-images - 사용자 이미지 목록
```

### 3.3 LLM API 선택 기준

**1순위: Google Gemini Flash**
- 비용: $0.000075/1K tokens
- 응답 속도: 매우 빠름
- 품질: 양호

## 4. 사용자 인터페이스 설계

### 4.1 메인 워크플로우
1. **정보 입력 단계**
   - 단계별 폼 (산지 → 원두명 → 배전도 → 플레이버 → 산도, 바디감, 단맛, 쓴맛 강도)
    - 어느 나라 원두에요? 농장도 아시나요? 와 같은 친근한 워딩 사용
    - 각 과정은 건너뛰기 가능
   - 진행률 표시
   - 입력값 검증 및 제안

2. **컬러 추천 단계**
   - AI 생성 중 로딩 애니메이션
   - 추천 컬러 그리드 표시
   - 컬러 선택/수정 기능

3. **카드 생성 단계**
   - 실시간 미리보기
   - 파라미터 조정 슬라이더
   - 배경 only, name 정보 표기 토글, 플레이버 정보 표기 토글, 강도 정보 표기 토글 

4. **저장/공유 단계**
   - 다운로드 옵션
   - Supabase 저장
   - 소셜미디어 공유

### 4.2 반응형 디자인
- 모바일 우선 (Mobile First)
- 태블릿 최적화
- 데스크톱 확장 기능

## 5. 개발 로드맵

### Phase 1: MVP (4주)
**주 1-2: 프론트엔드 기반**
- React 프로젝트 설정
- 기본 UI 컴포넌트 개발
- 폼 입력 시스템 구현

**주 3: 핵심 기능**
- LLM API 연동
- 기본 SVG 생성 로직
- 다운로드 기능

**주 4: 통합 및 테스트**
- 전체 워크플로우 연결
- 기본 테스트
- 배포 준비

### Phase 2: 고급 기능 (3주)
**주 5-6: 고급 편집**
- 파라미터 조정 시스템
- 실시간 미리보기
- 배경 only, name 정보 표기 토글, 플레이버 정보 표기 토글, 강도 정보 표기 토글 

**주 7: 저장 시스템**
- Supabase 익명 저장
- 이미지 갤러리

### Phase 3: 사용자 시스템 (2주)
**주 8: 인증 시스템**
- 회원가입/로그인
- 사용자별 이미지 관리
- 프로필 설정

**주 9: 최적화**
- 성능 개선
- 사용자 피드백 반영
- 최종 테스트

## 6. 성공 지표 (KPI)

### 6.1 사용자 참여
- 일일 활성 사용자 (DAU)
- 이미지 생성 완료율
- 평균 세션 시간

### 6.2 기술적 성능
- 이미지 생성 속도 (목표: 5초 이내)
- API 응답 시간 (목표: 3초 이내)
- 시스템 가동률 (목표: 99.9%)

### 6.3 비즈니스 지표
- 사용자 유지율 (7일, 30일)
- 이미지 저장율
- 다운로드 전환율

## 7. 리스크 및 대응 방안

### 7.1 기술적 리스크
**LLM API 비용 급증**
- 대응: 사용량 제한, 캐싱 시스템, 대체 API 준비

**SVG 생성 성능 이슈**
- 대응: Web Worker 활용, 이미지 최적화, 로딩 상태 관리

### 7.2 사용자 경험 리스크
**복잡한 UI로 인한 이탈**
- 대응: 단계별 가이드, 도움말, 프리셋 제공

**모바일 사용성 저하**
- 대응: 모바일 우선 설계, 터치 최적화

## 8. 향후 확장 계획

### 8.1 기능 확장
- 커피 외 다른 음료 지원 (차, 와인 등)
- AI 기반 배경 패턴 생성
- 브랜드 로고 통합 기능

### 8.2 플랫폼 확장
- 모바일 앱 (React Native)
- 데스크톱 앱 (Electron)
- API 서비스 제공

### 8.3 커뮤니티 기능
- 사용자 생성 템플릿 공유
- 컬러 팔레트 라이브러리
- 커피 전문가 검증 시스템